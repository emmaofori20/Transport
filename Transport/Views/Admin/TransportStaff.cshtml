@model List<TransportStaffViewModel>

@{
    ViewBag.Title = "TransportStaff";
}
<link rel="stylesheet" type="text/css" href="~/app-assets/css/core/menu/menu-types/vertical-menu-modern.css">
<link rel="stylesheet" type="text/css" href="~/app-assets/vendors/css/tables/datatable/datatables.min.css">


<div class="content-header row">
    <div class="content-header-left col-md-6 col-12 mb-2 breadcrumb-new">
        <h3 class="content-header-title mb-0 d-inline-block font-weight-bold">Transport Staff</h3>
    </div>
    <div class="content-header-right col-md-6 col-12">
        <div class="dropdown float-md-right">
            <a class="btn btn-primary px-2" id="updatetable" style="color:white" >
                Update Users
            </a>
        </div>
    </div>
</div>


<div class="col-md-12 bg-white p-1">
    <div class="panel panel-default">
        <div class="panel-body">
            <table id="transport-list" class="table table-condensed table-striped">
                <thead>
                    <tr>
                        <th>Staff Id</th>
                        <th>Other Names</th>
                        <th>Sur Name</th>
                        <th>Tech Mail</th>
                        <th>Rank</th>
                        <th>View</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr data-toggle="collapse" data-target="#demo1" class="accordion-toggle">
                            <td>@item.StaffID2</td>
                            <td>@item.OTHERNAME</td>
                            <td>@item.SURNAME</td>
                            <td>@item.TECHMAIL</td>
                            <td>@item.RANK</td>
                            <td><a asp-action="TransportStaffDetail" asp-controller="Admin" asp-route-StaffId="@item.StaffID" class="btn btn-default btn-xs">Details</a></td>

                        </tr>
                    }

                </tbody>
            </table>
        </div>

    </div>

</div>
<script src="~/lib/jquery/jquery.min.js" type="text/javascript"></script>

<script src="~/app-assets/vendors/js/tables/datatable/datatables.min.js" type="text/javascript" defer></script>
<!-- END PAGE VENDOR JS-->

<script src="~/app-assets/js/scripts/tables/datatables/datatable-basic.js" type="text/javascript" defer></script>
<!-- BEGIN MODERN JS-->

<script>
    $(document).ready(function () {
        $('#transport-list').DataTable();

        $("#updatetable").click(function () {
            var url = 'Admin/UpdateTransportStaffTable';
            var completeUrl = baseUrl + url;
            $.ajax({
                url: completeUrl,
                dataType: 'html',
                method: 'get',
                success: function (res) {
                    toastr.success('List Updated', 'Success', { "hideDuration": 3000 });
                    //window.location.href = "/Admin/Index";


                },
                error: function (err) {
                    console.log(err, "err");
                    toastr.error(' An error occured... Please again later ', 'Error Occured', { "hideDuration": 3000 });
                }
            });

        });
    });
</script>